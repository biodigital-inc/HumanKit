"use strict";(self.webpackChunkviewer=self.webpackChunkviewer||[]).push([[937],{1937:(be,st,w)=>{w.r(st),w.d(st,{getFontEmbedCSS:()=>de,toBlob:()=>ye,toCanvas:()=>d,toJpeg:()=>pe,toPixelData:()=>me,toPng:()=>ge,toSvg:()=>Et});var l=w(467);const Rt=(()=>{let t=0;return()=>(t+=1,`u${`0000${(Math.random()*36**4|0).toString(36)}`.slice(-4)}${t}`)})();function m(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(t[n]);return e}let p=null;function ut(t={}){return p||(t.includeStyleProperties?(p=t.includeStyleProperties,p):(p=m(window.getComputedStyle(document.documentElement)),p))}function x(t,e){const r=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return r?parseFloat(r.replace("px","")):0}function _(t,e={}){const n=e.width||function At(t){const e=x(t,"border-left-width"),n=x(t,"border-right-width");return t.clientWidth+e+n}(t),r=e.height||function Pt(t){const e=x(t,"border-top-width"),n=x(t,"border-bottom-width");return t.clientHeight+e+n}(t);return{width:n,height:r}}const f=16384;function b(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>e(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=t})}function E(){return(E=(0,l.A)(function*(t){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)})).apply(this,arguments)}function C(){return C=(0,l.A)(function*(t,e,n){const r="http://www.w3.org/2000/svg",s=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return s.setAttribute("width",`${e}`),s.setAttribute("height",`${n}`),s.setAttribute("viewBox",`0 0 ${e} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),s.appendChild(i),i.appendChild(t),function $t(t){return E.apply(this,arguments)}(s)}),C.apply(this,arguments)}const a=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return null!==n&&(n.constructor.name===e.name||a(n,e))};function ot(t,e,n,r){const s=window.getComputedStyle(t,n),i=s.getPropertyValue("content");if(""===i||"none"===i)return;const u=Rt();try{e.className=`${e.className} ${u}`}catch{return}const o=document.createElement("style");o.appendChild(function Ut(t,e,n,r){const s=`.${t}:${e}`,i=n.cssText?function It(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}(n):function Dt(t,e){return ut(e).map(n=>`${n}: ${t.getPropertyValue(n)}${t.getPropertyPriority(n)?" !important":""};`).join(" ")}(n,r);return document.createTextNode(`${s}{${i}}`)}(u,n,s,r)),e.appendChild(o)}const ct="application/font-woff",lt="image/jpeg",Vt={woff:ct,woff2:ct,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:lt,jpeg:lt,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function R(t){const e=function Ht(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}(t).toLowerCase();return Vt[e]||""}function A(t){return-1!==t.search(/^(data:)/)}function at(t,e){return`data:${e};base64,${t}`}function ft(t,e,n){return P.apply(this,arguments)}function P(){return(P=(0,l.A)(function*(t,e,n){const r=yield fetch(t,e);if(404===r.status)throw new Error(`Resource "${r.url}" not found`);const s=yield r.blob();return new Promise((i,u)=>{const o=new FileReader;o.onerror=u,o.onloadend=()=>{try{i(n({res:r,result:o.result}))}catch(c){u(c)}},o.readAsDataURL(s)})})).apply(this,arguments)}const T={};function F(t,e,n){return L.apply(this,arguments)}function L(){return(L=(0,l.A)(function*(t,e,n){const r=function Ot(t,e,n){let r=t.replace(/\?.*/,"");return n&&(r=t),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}(t,e,n.includeQueryParams);if(null!=T[r])return T[r];let s;n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime());try{const i=yield ft(t,n.fetchRequestInit,({res:u,result:o})=>(e||(e=u.headers.get("Content-Type")||""),function Mt(t){return t.split(/,/)[1]}(o)));s=at(i,e)}catch(i){s=n.imagePlaceholder||"";let u=`Failed to fetch resource: ${t}`;i&&(u="string"==typeof i?i:i.message),u&&console.warn(u)}return T[r]=s,s})).apply(this,arguments)}function $(){return($=(0,l.A)(function*(t){const e=t.toDataURL();return"data:,"===e?t.cloneNode(!1):b(e)})).apply(this,arguments)}function v(){return(v=(0,l.A)(function*(t,e){if(t.currentSrc){const i=document.createElement("canvas"),u=i.getContext("2d");return i.width=t.clientWidth,i.height=t.clientHeight,u?.drawImage(t,0,0,i.width,i.height),b(i.toDataURL())}const n=t.poster,r=R(n);return b(yield F(n,r,e))})).apply(this,arguments)}function I(){return(I=(0,l.A)(function*(t,e){var n;try{if(null!==(n=t?.contentDocument)&&void 0!==n&&n.body)return yield S(t.contentDocument.body,e,!0)}catch{}return t.cloneNode(!1)})).apply(this,arguments)}function D(){return D=(0,l.A)(function*(t,e){return a(t,HTMLCanvasElement)?function Wt(t){return $.apply(this,arguments)}(t):a(t,HTMLVideoElement)?function Bt(t,e){return v.apply(this,arguments)}(t,e):a(t,HTMLIFrameElement)?function qt(t,e){return I.apply(this,arguments)}(t,e):t.cloneNode(ht(t))}),D.apply(this,arguments)}const ht=t=>null!=t.tagName&&"SVG"===t.tagName.toUpperCase();function U(){return(U=(0,l.A)(function*(t,e,n){var r,s;if(ht(e))return e;let i=[];return i=(t=>null!=t.tagName&&"SLOT"===t.tagName.toUpperCase())(t)&&t.assignedNodes?m(t.assignedNodes()):a(t,HTMLIFrameElement)&&null!==(r=t.contentDocument)&&void 0!==r&&r.body?m(t.contentDocument.body.childNodes):m((null!==(s=t.shadowRoot)&&void 0!==s?s:t).childNodes),0===i.length||a(t,HTMLVideoElement)||(yield i.reduce((u,o)=>u.then(()=>S(o,n)).then(c=>{c&&e.appendChild(c)}),Promise.resolve())),e})).apply(this,arguments)}function k(){return(k=(0,l.A)(function*(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(0===n.length)return t;const r={};for(let i=0;i<n.length;i++){const o=n[i].getAttribute("xlink:href");if(o){const c=t.querySelector(o),h=document.querySelector(o);!c&&h&&!r[o]&&(r[o]=yield S(h,e,!0))}}const s=Object.values(r);if(s.length){const i="http://www.w3.org/1999/xhtml",u=document.createElementNS(i,"svg");u.setAttribute("xmlns",i),u.style.position="absolute",u.style.width="0",u.style.height="0",u.style.overflow="hidden",u.style.display="none";const o=document.createElementNS(i,"defs");u.appendChild(o);for(let c=0;c<s.length;c++)o.appendChild(s[c]);t.appendChild(u)}return t})).apply(this,arguments)}function S(t,e,n){return V.apply(this,arguments)}function V(){return V=(0,l.A)(function*(t,e,n){return n||!e.filter||e.filter(t)?Promise.resolve(t).then(r=>function jt(t,e){return D.apply(this,arguments)}(r,e)).then(r=>function zt(t,e,n){return U.apply(this,arguments)}(t,r,e)).then(r=>function Qt(t,e,n){return a(e,Element)&&(function Jt(t,e,n){const r=e.style;if(!r)return;const s=window.getComputedStyle(t);s.cssText?(r.cssText=s.cssText,r.transformOrigin=s.transformOrigin):ut(n).forEach(i=>{let u=s.getPropertyValue(i);"font-size"===i&&u.endsWith("px")&&(u=Math.floor(parseFloat(u.substring(0,u.length-2)))-.1+"px"),a(t,HTMLIFrameElement)&&"display"===i&&"inline"===u&&(u="block"),"d"===i&&e.getAttribute("d")&&(u=`path(${e.getAttribute("d")})`),r.setProperty(i,u,s.getPropertyPriority(i))})}(t,e,n),function kt(t,e,n){ot(t,e,":before",n),ot(t,e,":after",n)}(t,e,n),function Xt(t,e){a(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),a(t,HTMLInputElement)&&e.setAttribute("value",t.value)}(t,e),function Kt(t,e){if(a(t,HTMLSelectElement)){const r=Array.from(e.children).find(s=>t.value===s.getAttribute("value"));r&&r.setAttribute("selected","")}}(t,e)),e}(t,r,e)).then(r=>function Yt(t,e){return k.apply(this,arguments)}(r,e)):null}),V.apply(this,arguments)}const mt=/url\((['"]?)([^'"]+?)\1\)/g,Zt=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Nt=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function H(){return(H=(0,l.A)(function*(t,e,n,r,s){try{const i=n?function Ct(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),s=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(s),e&&(r.href=e),s.href=t,s.href}(e,n):e,u=R(e);let o;return o=s?at(yield s(i),u):yield F(i,u,r),t.replace(function te(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}(e),`$1${o}$3`)}catch{}return t})).apply(this,arguments)}function gt(t){return-1!==t.search(mt)}function pt(t,e,n){return M.apply(this,arguments)}function M(){return M=(0,l.A)(function*(t,e,n){if(!gt(t))return t;const r=function re(t,{preferredFontFormat:e}){return e?t.replace(Nt,n=>{for(;;){const[r,,s]=Zt.exec(n)||[];if(!s)return"";if(s===e)return`src: ${r};`}}):t}(t,n);return function ee(t){const e=[];return t.replace(mt,(n,r,s)=>(e.push(s),n)),e.filter(n=>!A(n))}(r).reduce((i,u)=>i.then(o=>function ne(t,e,n,r,s){return H.apply(this,arguments)}(o,u,e,n)),Promise.resolve(r))}),M.apply(this,arguments)}function y(t,e,n){return O.apply(this,arguments)}function O(){return(O=(0,l.A)(function*(t,e,n){var r;const s=null===(r=e.style)||void 0===r?void 0:r.getPropertyValue(t);if(s){const i=yield pt(s,null,n);return e.style.setProperty(t,i,e.style.getPropertyPriority(t)),!0}return!1})).apply(this,arguments)}function W(){return(W=(0,l.A)(function*(t,e){(yield y("background",t,e))||(yield y("background-image",t,e)),(yield y("mask",t,e))||(yield y("-webkit-mask",t,e))||(yield y("mask-image",t,e))||(yield y("-webkit-mask-image",t,e))})).apply(this,arguments)}function B(){return(B=(0,l.A)(function*(t,e){const n=a(t,HTMLImageElement);if((!n||A(t.src))&&(!a(t,SVGImageElement)||A(t.href.baseVal)))return;const r=n?t.src:t.href.baseVal,s=yield F(r,R(r),e);yield new Promise((i,u)=>{t.onload=i,t.onerror=e.onImageErrorHandler?(...c)=>{try{i(e.onImageErrorHandler(...c))}catch(h){u(h)}}:u;const o=t;o.decode&&(o.decode=i),"lazy"===o.loading&&(o.loading="eager"),n?(t.srcset="",t.src=s):t.href.baseVal=s})})).apply(this,arguments)}function q(){return(q=(0,l.A)(function*(t,e){const r=m(t.childNodes).map(s=>yt(s,e));yield Promise.all(r).then(()=>t)})).apply(this,arguments)}function yt(t,e){return j.apply(this,arguments)}function j(){return j=(0,l.A)(function*(t,e){a(t,Element)&&(yield function ie(t,e){return W.apply(this,arguments)}(t,e),yield function se(t,e){return B.apply(this,arguments)}(t,e),yield function ue(t,e){return q.apply(this,arguments)}(t,e))}),j.apply(this,arguments)}const dt={};function xt(t){return G.apply(this,arguments)}function G(){return(G=(0,l.A)(function*(t){let e=dt[t];return null!=e||(e={url:t,cssText:yield(yield fetch(t)).text()},dt[t]=e),e})).apply(this,arguments)}function bt(t,e){return z.apply(this,arguments)}function z(){return z=(0,l.A)(function*(t,e){let n=t.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,i=(n.match(/url\([^)]+\)/g)||[]).map(function(){var u=(0,l.A)(function*(o){let c=o.replace(r,"$1");return c.startsWith("https://")||(c=new URL(c,t.url).href),ft(c,e.fetchRequestInit,({result:h})=>(n=n.replace(o,`url(${h})`),[o,h]))});return function(o){return u.apply(this,arguments)}}());return Promise.all(i).then(()=>n)}),z.apply(this,arguments)}function St(t){if(null==t)return[];const e=[];let r=t.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const s=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const c=s.exec(r);if(null===c)break;e.push(c[0])}r=r.replace(s,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let c=i.exec(r);if(null===c){if(c=o.exec(r),null===c)break;i.lastIndex=o.lastIndex}else o.lastIndex=i.lastIndex;e.push(c[0])}return e}function J(){return(J=(0,l.A)(function*(t,e){const n=[],r=[];return t.forEach(s=>{if("cssRules"in s)try{m(s.cssRules||[]).forEach((i,u)=>{if(i.type===CSSRule.IMPORT_RULE){let o=u+1;const h=xt(i.href).then(g=>bt(g,e)).then(g=>St(g).forEach(it=>{try{s.insertRule(it,it.startsWith("@import")?o+=1:s.cssRules.length)}catch(xe){console.error("Error inserting rule from remote css",{rule:it,error:xe})}})).catch(g=>{console.error("Error loading remote css",g.toString())});r.push(h)}})}catch(i){const u=t.find(o=>null==o.href)||document.styleSheets[0];null!=s.href&&r.push(xt(s.href).then(o=>bt(o,e)).then(o=>St(o).forEach(c=>{u.insertRule(c,u.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",i)}}),Promise.all(r).then(()=>(t.forEach(s=>{if("cssRules"in s)try{m(s.cssRules||[]).forEach(i=>{n.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${s.href}`,i)}}),n))})).apply(this,arguments)}function X(){return X=(0,l.A)(function*(t,e){if(null==t.ownerDocument)throw new Error("Provided element is not within a Document");const n=m(t.ownerDocument.styleSheets),r=yield function ce(t,e){return J.apply(this,arguments)}(n,e);return function le(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>gt(e.style.getPropertyValue("src")))}(r)}),X.apply(this,arguments)}function wt(t){return t.trim().replace(/["']/g,"")}function _t(t,e){return K.apply(this,arguments)}function K(){return K=(0,l.A)(function*(t,e){const n=yield function ae(t,e){return X.apply(this,arguments)}(t,e),r=function fe(t){const e=new Set;return function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(i=>{e.add(wt(i))}),Array.from(r.children).forEach(i=>{i instanceof HTMLElement&&n(i)})}(t),e}(t);return(yield Promise.all(n.filter(i=>r.has(wt(i.style.fontFamily))).map(i=>pt(i.cssText,i.parentStyleSheet?i.parentStyleSheet.href:null,e)))).join("\n")}),K.apply(this,arguments)}function Q(){return(Q=(0,l.A)(function*(t,e){const n=null!=e.fontEmbedCSS?e.fontEmbedCSS:e.skipFonts?null:yield _t(t,e);if(n){const r=document.createElement("style"),s=document.createTextNode(n);r.appendChild(s),t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)}})).apply(this,arguments)}function Et(t){return Y.apply(this,arguments)}function Y(){return Y=(0,l.A)(function*(t,e={}){const{width:n,height:r}=_(t,e),s=yield S(t,e,!0);return yield function he(t,e){return Q.apply(this,arguments)}(s,e),yield yt(s,e),function oe(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const r=e.style;null!=r&&Object.keys(r).forEach(s=>{n[s]=r[s]})}(s,e),yield function vt(t,e,n){return C.apply(this,arguments)}(s,n,r)}),Y.apply(this,arguments)}function d(t){return Z.apply(this,arguments)}function Z(){return(Z=(0,l.A)(function*(t,e={}){const{width:n,height:r}=_(t,e),s=yield Et(t,e),i=yield b(s),u=document.createElement("canvas"),o=u.getContext("2d"),c=e.pixelRatio||function Tt(){let t,e;try{e=process}catch{}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}(),h=e.canvasWidth||n,g=e.canvasHeight||r;return u.width=h*c,u.height=g*c,e.skipAutoScale||function Ft(t){(t.width>f||t.height>f)&&(t.width>f&&t.height>f?t.width>t.height?(t.height*=f/t.width,t.width=f):(t.width*=f/t.height,t.height=f):t.width>f?(t.height*=f/t.width,t.width=f):(t.width*=f/t.height,t.height=f))}(u),u.style.width=`${h}`,u.style.height=`${g}`,e.backgroundColor&&(o.fillStyle=e.backgroundColor,o.fillRect(0,0,u.width,u.height)),o.drawImage(i,0,0,u.width,u.height),u})).apply(this,arguments)}function me(t){return N.apply(this,arguments)}function N(){return(N=(0,l.A)(function*(t,e={}){const{width:n,height:r}=_(t,e);return(yield d(t,e)).getContext("2d").getImageData(0,0,n,r).data})).apply(this,arguments)}function ge(t){return tt.apply(this,arguments)}function tt(){return(tt=(0,l.A)(function*(t,e={}){return(yield d(t,e)).toDataURL()})).apply(this,arguments)}function pe(t){return et.apply(this,arguments)}function et(){return(et=(0,l.A)(function*(t,e={}){return(yield d(t,e)).toDataURL("image/jpeg",e.quality||1)})).apply(this,arguments)}function ye(t){return nt.apply(this,arguments)}function nt(){return(nt=(0,l.A)(function*(t,e={}){const n=yield d(t,e);return yield function Lt(t,e={}){return new Promise(t.toBlob?n=>{t.toBlob(n,e.type?e.type:"image/png",e.quality?e.quality:1)}:n=>{const r=window.atob(t.toDataURL(e.type?e.type:void 0,e.quality?e.quality:void 0).split(",")[1]),s=r.length,i=new Uint8Array(s);for(let u=0;u<s;u+=1)i[u]=r.charCodeAt(u);n(new Blob([i],{type:e.type?e.type:"image/png"}))})}(n)})).apply(this,arguments)}function de(t){return rt.apply(this,arguments)}function rt(){return(rt=(0,l.A)(function*(t,e={}){return _t(t,e)})).apply(this,arguments)}}}]);